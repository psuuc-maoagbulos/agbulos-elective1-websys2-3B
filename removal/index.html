<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Database</title>
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
    <form id="studentForm">
        <label for="studentName">Student Name:</label>
        <input type="text" id="studentName" required><br>

        <label for="contactNumber">Contact Number:</label>
        <input type="text" id="contactNumber" required><br>

        <label for="yearLevel">Year Level:</label>
        <select id="yearLevel" required>
            <option value="1">1st Year</option>
            <option value="2">2nd Year</option>
            <option value="3">3rd Year</option>
            <option value="4">4th Year</option>
        </select><br>

        <label for="section">Section:</label>
        <input type="text" id="section" required><br>

        <label for="email">Email:</label>
        <input type="email" id="email" required><br>

        <label for="mark">mark:</label>
        <input type="number" id="mark" required><br>

        <button type="button" onclick="addStudent()">Add Student</button>
    </form>

    <table id="studentTable" border="1">
        <thead>
            <tr>
                <th>Student ID</th>
                <th>Name</th>
                <th>Contact Number</th>
                <th>Year Level</th>
                <th>Section</th>
                <th>Email</th>
                <th>mark</th>
            </tr>
        </thead>
        <tbody id="tableBody"></tbody>
    </table>
 <div>  <input type="button" value="logout" onclick="logout()"></div>
    <script>
        function logout(){
        $.ajax({
            url:'logout.php',
            type:'POST',
            success: function(){
            window.location='login.php';
            }

        });
    }
        function addStudent()
        {
            var name = $('#studentName').val();
            var contactNumber = $('#contactNumber').val();
            var yearLevel = $('#yearLevel').val();
            var section = $('#section').val();
            var email = $('#email').val();
            var mark = $('#mark').val();

            $.ajax({
                url: 'addStudent.php',
                method: 'POST',
                data: {
                    name: name,
                    contactNumber: contactNumber,
                    yearLevel: yearLevel,
                    section: section,
                    email: email,
                    mark: mark
                },
                success: function (response)
                {
                    // Reload the table data
                    getStudents();
                }
            });
        }

        function getStudents()
        {
            $.ajax({
                url: 'getStudents.php',
                method: 'GET',
                success: function (response)
                {
                    $('#tableBody').html(response);
                }
            });
        }

        // Initial load of the table
        $(document).ready(function ()
        {
            getStudents();
        });
    </script>
</body>

</html>